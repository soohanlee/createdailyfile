# 개발 일지

## 작업 개요

- **목표**: 프로덕션으로 배포된 코드의 에러 피드백을 쉽게 받을 수 있어야한다.
- **이유**: 기존 개발 단계에서 프론트엔드 단에서 문제가 발생했을 경우 순서는 문제발생 -> 화면 캡쳐 -> 개발자 도구 열기 -> 에러 로그 확인 -> 캡쳐 -> 담당자에게 보내기 순서로 이루어져있다. 하지만 실제 프로덕션 단계에서 우리의 프로그램을 사용하는 모든 유저가 이러한 과정을 거칠 수 가 없다. 불가능하다.

아직 유저들에게 오픈되지는 않았지만 B to B로 한 업체에게만 우리의 사이트를 공개할 일 이 생겼고 그 과정에서 발생하는 버그 피드백을 위 과정없이 해결하고 싶었다.

모니터링 tool을 조사했고 sentry,Rollbar, Bugsnag등 다양한 툴이 있는 것을 확인했다.

복잡한 기능이 필요한게 아닌 단순히 어떤 에러가 발생했는지 아는 것이 필요했고 간단하게 구축 할 수 있길 원했다. 요금제 또한 중요한 요소이며 무료 요금제를 사용해야 했고 3개다 비슷했다. 제공하는 기능이나 우리가 필요한 기능이 비슷했고 그렇다면 한국어로된 자료가 많은 sentry를 고르기로 결정했다.

## 상세 작업 내용

1. sentry 회원가입 및 구축
2. 간단한 에러 발생시켜 보기
3.

## sentry 적용 방법

- sentry에 가입 후 가이드를 따른다면 매우 매우 쉽게 설치가 가능하다.
- npm 혹은 yarn 을 이용하여 @sentry/react 를 설치한다.
- sentry에서 제공하는 init함수를 react 프로젝트의 root파일에 넣는다.
- DNS를 sentry에서 제공하는 코드로 넣는다.
  위 단계만 거치면 설치가 끝난다.
  sentry 기능을 잘 활용하는 것은 나중일이이다.
  실제 try catch문을 이용하거나 혹은 throw를 이용하여 에러를 발생시키고 확인해보면 에러가 issue 화면에 잘 보이는 것을 확인 할 수있다. 정말 짧은 시간에 에러를 트래킹 할수 있게 되었다.

  이슈 페이지를 보면 기기, 브라우저 환경, 요류발생페이지, os, ip등등 기존 디버그 트래킹에서 알기 어려운 정보들도 알 수 있었다. 어떤 환경에서 어떤 에러가 발생하는지 빠르게 파악 할 수 있어 좋았다.

  심지어 Session Replay 기능은 서비스의 화면을 대략적으로 가져와 마우스의 위치를 추척하여 유저가 어떤 플로우로 에러를 발생시켰는지 보여주었다. 매우 대단한 기능이다.

  Breadcrumbs기능도 활용하였는데 유저의 플로우를 stack로 보여준다. 어떤 페이지에 들어왔고 어떤 버튼을 클릭 했고 등등을 보여주며 에러 발생전까지의 흐름을 보여준다. 굉장히 유용한 모니터링 도구이며 지속적으로 사용하며 도구로서 잘 활용할 예정이다. 단점은 요금제를 비즈니스로 변경할 때 가격이 좀 나가는 편이라 (한달 65달러 ㄷㄷ) on demand설치를 통한 비용 절감을 노려야 한다.

## 내일 계획

-
-
-

## 참고 자료

-
-
-
