# 개발 일지

## 작업 개요

- **목표**: 기존 node.js로 만든 서버를 nest.js로 옮기면서 nest.js를 학습한다.
- **이유**: nest.js의 기초단계를 공부하기 위함. 다음 프로젝트를 위한 예습

## 상세 작업 내용

1. 기존 node.js에서 만들어 놓았던 single게임 관련 로직을 모두 옮긴다.
2. nest.js의 폴더 구조 module,controller,service,entity,dto,validate등등에 대해 학습

## 발생한 이슈 및 해결 방법

- **이슈 1**: 기존 node.js에서 복잡한 로직이 구현되는 부분은 class로 따로 빼서 작업을 하였음. nest.js에서 서비스를 여러개 구분하여 작업하는 방법을 알게됨 의존성 주입을 통해 서비스를 따로 분류하여 관리하는 것이 편함
  - **해결 방법**: single-game module에서 의존성 주입을 위해 사용한 mongoose 모델을 appModule에도 넣어주어야함. 아직 이에 대한 학습이 부족하다고 생각
- **이슈 2**: 프론트에서 보낸 데이터를 validate 하지 않아 발생하는 문제. validate의 경우 서비스 영역에서 관리하는 것이 아닌 model영역에서 처리가 가능
  - **해결 방법**: validate를 전역에서 관리할 수 있음.mongoose의 validate에 걸린다면 mongoose Error filter를 사용하여 response를 구성할 수 있음.
    nest.js는 명확하게 어떤 레이어에서 어떤 작업을 처리하는지 나누어져 있으니 찾기도 쉽고 변경도 쉬움

## 느끼고 있는 점

node.js에서는 확실히 어떤 폴더 구조를 갖추어야 할지 궁금했고 작업을 진행하며 내가 괜찮다고 생각한 구조로 작업을 함. 실제 회사에서 사용하고 있는 백엔드 프로젝트들도 보면 개발자 별로 모두 폴더 구조가 다름. 하지만 nest.js를 사용한다면 비슷한 구조로 흘러가서 구조파악이 더 용이 할 것으로 생각됨.
